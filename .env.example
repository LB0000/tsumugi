# ================================
# Fable Clone - Environment Variables
# ================================

# Frontend (Vercel)
# -----------------
# The URL of your Railway backend API
VITE_API_URL=https://your-railway-app.railway.app/api

# Backend (Railway)
# -----------------
# Google Gemini API Key (get from https://aistudio.google.com/apikey)
GEMINI_API_KEY=your_gemini_api_key_here

# Server port (Railway will set this automatically)
PORT=3001

# Frontend URL for CORS (your Vercel deployment URL)
FRONTEND_URL=https://your-app.vercel.app

# Environment
NODE_ENV=production
TRUST_PROXY=1

# Allow mock generation responses (development only)
ALLOW_MOCK_GENERATION=false

# Square Payment (get from https://developer.squareup.com/)
# -----------------
SQUARE_ACCESS_TOKEN=your_square_sandbox_access_token
SQUARE_APPLICATION_ID=sandbox-sq0idb-xxxxx
SQUARE_LOCATION_ID=your_square_location_id
SQUARE_ENVIRONMENT=sandbox

# Square (Frontend)
VITE_SQUARE_APPLICATION_ID=sandbox-sq0idb-xxxxx
VITE_SQUARE_LOCATION_ID=your_square_location_id
VITE_SQUARE_ENVIRONMENT=sandbox

# Square Webhook
SQUARE_WEBHOOK_SIGNATURE_KEY=your_square_webhook_signature_key
SQUARE_WEBHOOK_NOTIFICATION_URL=https://your-api-domain.com/api/checkout/webhook

# Google OAuth (get from https://console.cloud.google.com/apis/credentials)
# -----------------
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
VITE_GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com

# Resend Email (get from https://resend.com/api-keys)
# -----------------
RESEND_API_KEY=re_xxxxxxxxxxxxx
FROM_EMAIL=noreply@yourdomain.com

# Google Tag Manager (get from https://tagmanager.google.com/)
# -----------------
VITE_GTM_ID=GTM-XXXXXXX

# Meta Pixel + Conversions API (get from https://business.facebook.com/events_manager/)
# -----------------
VITE_META_PIXEL_ID=your_pixel_id
META_CONVERSIONS_API_TOKEN=your_capi_access_token
META_PIXEL_ID=your_pixel_id

# Session Security
# -----------------
SESSION_SECRET=your_session_secret_min_16_chars

# TSUMUGI Admin Integration (coupon feature)
# -----------------
INTERNAL_API_KEY=your_internal_api_key
TSUMUGI_ADMIN_API_URL=http://localhost:3002

# Supabase (optional: durable auth persistence + image storage)
# -----------------
# Create tables by running: documents/supabase-auth-state.sql
# Create storage bucket: "portraits" with public read access
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
SUPABASE_AUTH_USERS_TABLE=auth_users
SUPABASE_AUTH_SESSIONS_TABLE=auth_sessions
SUPABASE_AUTH_RESET_TOKENS_TABLE=auth_reset_tokens
SUPABASE_AUTH_VERIFICATION_TOKENS_TABLE=auth_verification_tokens
SUPABASE_AUTH_ADDRESSES_TABLE=auth_saved_addresses
# Legacy snapshot fallback (optional)
SUPABASE_AUTH_STATE_TABLE=app_state
SUPABASE_AUTH_STATE_KEY=auth-store
# Checkout tables (optional)
SUPABASE_CHECKOUT_ORDERS_TABLE=checkout_orders
SUPABASE_CHECKOUT_EVENTS_TABLE=checkout_webhook_events
# Style analytics & Gallery (optional)
SUPABASE_STYLE_ANALYTICS_TABLE=style_analytics
SUPABASE_GALLERY_TABLE=gallery_items
# Cart abandonment & Scheduled emails (optional)
SUPABASE_SAVED_CARTS_TABLE=saved_carts
SUPABASE_SCHEDULED_EMAILS_TABLE=scheduled_emails

# Test User (optional: unlimited credits for testing)
# -----------------
TEST_USER_IDS=
TEST_USER_EMAILS=test@example.com
TEST_LOGIN_KEY=your_test_login_key

# LYLY PDF Generation (optional: print-ready PDF generation)
# -----------------
# System: https://github.com/LB0000/lyly-pdf
# NOTE: TSUMUGI-specific templates not yet created, using existing templates temporarily
LYLY_API_URL=https://lyly-pdf.example.com
LYLY_AUTH_TOKEN=your_lyly_bearer_token
