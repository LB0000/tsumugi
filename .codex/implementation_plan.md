# 実装計画 - 購入フローと製品構成（クロスセル提案版）

ユーザーのフィードバックに基づき、**メイン商品（松竹梅）**と**クロスセル（ついで買い）**を明確に分けた構成にします。

## 商品構成

### メイン商品（3択）

1. **高解像度データ (Download)** - ¥2,900
    - 【梅・必須】基本のデジタル商品。
2. **アクリルスタンド (Acrylic)** - ¥3,900
    - 【竹・人気】デスクに飾れる、手軽な物理アイテム。
3. **キャンバスプリント (Canvas)** - ¥4,900
    - 【松・プレミアム】壁に飾る本格的なアート作品。

### クロスセル商品（ついで買い）

* **ポストカードセット (Postcards)** - ¥1,500 (セット価格)
  - どのメイン商品を選んでも、「+1,500円でポストカード5枚セットを追加しませんか？」と提案し、客単価アップを狙います。

## 変更内容

### 1. 新規ページ・ルーティング

#### [NEW] `src/pages/ResultPage.tsx`

- **商品選択 (Product Selector)**:
  - メイン3商品（Download, Acrylic, Canvas）をカード形式で並列表示。
- **クロスセル提案 (Upsell Section)**:
  - 商品をカートに追加する直前、または選択後に**「一緒にポストカードもいかがですか？」**というチェックボックスまたはミニモーダルを表示。

### 2. データ構造・状態管理

#### [NEW] `src/data/products.ts`

- 商品データの定義。`type` に `addon` を追加するか、フラグで管理。

    ```typescript
    export const products = [
      { id: 'download', name: '高解像度画像データ', price: 2900, type: 'digital' },
      { id: 'acrylic-stand', name: 'アクリルスタンド', price: 3900, type: 'physical' },
      { id: 'canvas', name: 'キャンバスアート', price: 4900, type: 'physical' },
      { id: 'postcard', name: '特製ポストカード（5枚組）', price: 1500, type: 'addon' }, // クロスセル用
    ];
    ```

#### [MODIFY] `src/stores/appStore.ts`

- カートロジックの実装（変更なし）。

### 3. フロー変更

#### [MODIFY] `src/components/home/GeneratePreview.tsx`

- 生成完了後、`ResultPage` へ遷移。

#### [MODIFY] `src/pages/CartPage.tsx`

- カート画面でも「あと◯円で送料無料」や「これも一緒にどうですか（ポストカード）」の再提案エリアを設けることが可能です。

## 検証計画

1. **基本フロー**: 生成 -> ResultPage遷移。
2. **メイン選択**: 3つのメイン商品が表示され、選択できること。
3. **クロスセル**: メイン商品選択時（またはカート追加時）にポストカードの提案が表示され、追加できること。
4. **カート計算**: メイン＋クロスセル商品の合計金額が正しいこと。
